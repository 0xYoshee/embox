diff -x '.*.sw?' -Naur openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/i387/bsd_asm.h openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/i387/bsd_asm.h
--- openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/i387/bsd_asm.h	2015-03-17 18:53:13.715657698 +0300
+++ openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/i387/bsd_asm.h	2015-03-17 18:46:04.197049339 +0300
@@ -39,7 +39,7 @@
 #if defined(__APPLE__)
 #include "osx_asm.h"
 #define CNAME(x) EXT(x)
-#elif defined(__FreeBSD__) || defined(__linux__) || defined(_WIN32)
+#elif defined(__FreeBSD__) || defined(__linux__) || defined(_WIN32) || defined(__EMBOX__)
 #include "bsd_cdefs.h"
 
 #ifdef PIC
diff -x '.*.sw?' -Naur openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/include/openlibm_fenv.h openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/include/openlibm_fenv.h
--- openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/include/openlibm_fenv.h	2015-03-17 18:53:13.715657698 +0300
+++ openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/include/openlibm_fenv.h	2015-03-17 18:46:04.197049339 +0300
@@ -9,7 +9,8 @@
 #elif defined(__i386__)
 #include <openlibm_fenv_i387.h>
 #else
-#error "Unsupported platform"
+#include <openlibm_fenv_stubs.h>
+#warning "Unsupported platform"
 #endif
 
 #endif /* OPENLIBM_USE_HOST_FENV_H */
diff -x '.*.sw?' -Naur openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/include/openlibm_math.h openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/include/openlibm_math.h
--- openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/include/openlibm_math.h	2015-03-17 18:53:13.718991110 +0300
+++ openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/include/openlibm_math.h	2015-03-17 18:46:04.197049339 +0300
@@ -25,7 +25,7 @@
     #define __WIN32__
 #endif
 
-#ifndef __arm__
+#if defined (__i386__) || defined(__x86_64__)
 #define LONG_DOUBLE
 #endif
 
diff -x '.*.sw?' -Naur openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/Makefile openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/Makefile
--- openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/Makefile	2015-03-17 18:53:13.715657698 +0300
+++ openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/Makefile	2015-03-17 18:46:04.197049339 +0300
@@ -2,7 +2,7 @@
 include ./Make.inc
 
 SUBDIRS = src $(ARCH) bsdsrc
-ifneq ($(ARCH), arm)
+ifneq ($(filter i386 i387 i486 i586 i686 x86_64,$(ARCH)),)
 SUBDIRS += ld80
 endif
 
diff -x '.*.sw?' -Naur openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/src/fpmath.h openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/src/fpmath.h
--- openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/src/fpmath.h	2015-03-17 18:53:13.722324521 +0300
+++ openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/src/fpmath.h	2015-03-17 18:55:34.392998881 +0300
@@ -79,6 +79,14 @@
 #define PDP_ENDIAN     _PDP_ENDIAN
 #define BYTE_ORDER     _BYTE_ORDER
 
+#elif defined(__EMBOX__)
+
+#include <endian.h>
+#define _LITTLE_ENDIAN  __LITTLE_ENDIAN
+#define _BIG_ENDIAN     __BIG_ENDIAN
+#define _PDP_ENDIAN     __PDP_ENDIAN
+#define _BYTE_ORDER     __BYTE_ORDER
+
 #endif
 
 #ifndef _IEEE_WORD_ORDER
diff -x '.*.sw?' -Naur openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/src/Make.files openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/src/Make.files
--- openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d.orig/src/Make.files	2015-03-17 18:53:13.718991110 +0300
+++ openlibm-ef29d06db1b57c415cbee51b90b492ae89812b5d/src/Make.files	2015-03-17 18:46:04.197049339 +0300
@@ -35,7 +35,7 @@
 $(CUR_SRCS) += s_nan.c
 endif
 
-ifneq ($(ARCH), arm)
+ifneq ($(filter i386 i387 i486 i586 i686 x86_64,$(ARCH)),)
 # C99 long double functions
 $(CUR_SRCS) +=	s_copysignl.c s_fabsl.c s_llrintl.c s_lrintl.c s_modfl.c
 
